<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-27T12:00:00.000Z" agent="Codex" version="22.1.0" type="device" compressed="false">
  <diagram id="labbahasa-main-flow" name="Flowchart Proyek">
    <mxGraphModel dx="1920" dy="1080" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2970" pageHeight="2100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <mxCell id="100" value="Lane Admin" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5faff;strokeColor=#6c8ebf;dashed=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="230" width="520" height="1250" as="geometry" />
        </mxCell>
        <mxCell id="101" value="Lane Siswa" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fffaf2;strokeColor=#d79b00;dashed=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1540" y="230" width="540" height="1250" as="geometry" />
        </mxCell>
        <mxCell id="102" value="Lane Sistem / API / DB" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f7f7f7;strokeColor=#666666;dashed=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="700" width="560" height="780" as="geometry" />
        </mxCell>

        <mxCell id="2" value="Mulai: Pengguna buka aplikasi&#xa;GET /login" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="40" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3" value="Pilih role?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="150" width="180" height="100" as="geometry" />
        </mxCell>

        <mxCell id="4" value="Admin login&#xa;POST /login/admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="260" y="290" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5" value="Kredensial valid?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="300" y="410" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="6" value="Admin Dashboard&#xa;GET /admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="230" y="560" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" value="Sesi aktif?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="300" y="680" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="8" value="Start Session&#xa;POST /admin/session/start&#xa;Buat row sessions + session_state&#xa;Emit event session_started" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="180" y="830" width="420" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9" value="Operasi realtime admin&#xa;- Kontrol mic/speaker/voice lock&#xa;- Broadcast text &amp; warning&#xa;- Chat + WebRTC signal&#xa;- Broadcast materi &amp; media control" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="180" y="980" width="420" height="140" as="geometry" />
        </mxCell>
        <mxCell id="10" value="Settings &amp; Materials&#xa;/admin/settings + /admin/materials/*&#xa;CRUD materi/file &amp; upload media" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="180" y="1150" width="420" height="110" as="geometry" />
        </mxCell>
        <mxCell id="11" value="End Session / timeout&#xa;POST /admin/session/end&#xa;atau auto-close deadline" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="180" y="1290" width="420" height="90" as="geometry" />
        </mxCell>
        <mxCell id="12" value="Recap sesi + export&#xa;Excel/PDF" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="180" y="1420" width="420" height="80" as="geometry" />
        </mxCell>

        <mxCell id="13" value="Siswa login&#xa;POST /login/student" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1660" y="290" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="14" value="Ada sesi aktif?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1720" y="410" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Mode menunggu&#xa;GET /waiting&#xa;Simpan profil ke session + cookie" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1590" y="560" width="440" height="100" as="geometry" />
        </mxCell>
        <mxCell id="16" value="Join/restore participant&#xa;Update participants + set cookie/session" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1590" y="700" width="440" height="100" as="geometry" />
        </mxCell>
        <mxCell id="17" value="Student Dashboard&#xa;GET /student" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1660" y="840" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="18" value="Loop realtime siswa&#xa;events poll + heartbeat" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1590" y="960" width="440" height="90" as="geometry" />
        </mxCell>
        <mxCell id="19" value="Aksi siswa&#xa;- Chat ke admin/public&#xa;- Toggle mic/speaker&#xa;- WebRTC signaling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1590" y="1080" width="440" height="110" as="geometry" />
        </mxCell>
        <mxCell id="20" value="Jika sesi berakhir (401/session_ended)&#xa;StudentAuth clear session/cookie&#xa;Redirect /login" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="1590" y="1230" width="440" height="100" as="geometry" />
        </mxCell>

        <mxCell id="21" value="Layer Controller + Model&#xa;AuthController, AdminController, StudentController, Api/*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6e6e6;strokeColor=#666666;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="760" width="440" height="100" as="geometry" />
        </mxCell>
        <mxCell id="22" value="Event Bus (tabel events)&#xa;addForAll / addForAdmin / addForParticipant" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="940" y="920" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="23" value="Client Polling (poll.js)&#xa;GET /api/events/poll (since_id)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="940" y="1080" width="400" height="90" as="geometry" />
        </mxCell>
        <mxCell id="24" value="Database Core&#xa;sessions, participants, session_state,&#xa;messages, materials, material_files, events" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="1260" width="440" height="150" as="geometry" />
        </mxCell>

        <mxCell id="200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="2" target="3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="201" value="Admin" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="3" target="4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="202" value="Siswa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="3" target="13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="4" target="5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="204" value="Ya" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="5" target="6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="205" value="Tidak" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="5" target="4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="206" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="6" target="7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="207" value="Tidak" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="7" target="8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="208" value="Ya" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="7" target="9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="209" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="8" target="9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="210" value="kelola setting/materi" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="6" target="10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="211" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="10" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="212" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="8" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="213" value="emit session_started" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="8" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="9" target="21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="9" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="216" value="akhiri sesi" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="9" target="11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="217" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="11" target="12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="218" value="emit session_ended" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="11" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="219" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="12" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="13" target="14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="221" value="Ya" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="14" target="16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="222" value="Tidak" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="14" target="15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="223" value="saat sesi dimulai" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="15" target="16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="224" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="16" target="17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="225" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="16" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="226" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="17" target="18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="227" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="18" target="19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="228" value="heartbeat update" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="18" target="21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="229" value="sesi berakhir / 401" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="18" target="20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="230" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="19" target="21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="19" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="232" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="21" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="233" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="22" target="23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="234" value="update UI admin" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="23" target="9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="235" value="update UI siswa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="23" target="18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="236" value="admin polling" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="6" target="23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="237" value="student polling" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="17" target="23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="238" value="tunggu sesi berikutnya" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=block;endFill=1;" edge="1" parent="1" source="20" target="15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="239" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;" edge="1" parent="1" source="10" target="21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
